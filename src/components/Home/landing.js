import React, { Component } from 'react';

import GroupPolaroid from '../../../assets/landingPhotos/GroupPolaroid.jpg';
import '../../../assets/style/landing.css';

export default class Landing extends Component {
    componentDidMount() {
        if (!this.props.fromLink) {
            document.addEventListener('DOMContentLoaded', this.unblur);
        }
    }

    unblur() {
        const a = document.querySelector('.blur-image');
        const img = new Image;

        img.src = GroupPolaroid;
        img.onload = () => {
            a.classList.add('image-loaded');
            a.style.backgroundImage = 'url(' + GroupPolaroid + ')';
        }
    }

    componentWillUnmount() {
        document.removeEventListener('DOMContentLoaded', this.unblur);
    }

    render() {
        return (
            <header
                className="blur-image"
                data-src={GroupPolaroid}
                style= {{
                    backgroundImage: this.props.fromLink ? 'url(' + GroupPolaroid + ')' :
                    'url(data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QQ3RXhpZgAATU0AKgAAAAgABgESAAMAAAABAAEAAAEaAAUAAAABAAAAVgEbAAUAAAABAAAAXgEoAAMAAAABAAIAAAITAAMAAAABAAEAAIdpAAQAAAABAAAAZgAAAMAAAABIAAAAAQAAAEgAAAABAAeQAAAHAAAABDAyMjGRAQAHAAAABAECAwCgAAAHAAAABDAxMDCgAQADAAAAAQABAACgAgAEAAAAAQAAABKgAwAEAAAAAQAAABakBgADAAAAAQAAAAAAAAAAAAYBAwADAAAAAQAGAAABGgAFAAAAAQAAAQ4BGwAFAAAAAQAAARYBKAADAAAAAQACAAACAQAEAAAAAQAAAR4CAgAEAAAAAQAAAxEAAAAAAAAASAAAAAEAAABIAAAAAf/Y/+AAEEpGSUYAAQEAAAEAAQAA/9sAQwAIBgYHBgUIBwcHCQkICgwUDQwLCwwZEhMPFB0aHx4dGhwcICQuJyAiLCMcHCg3KSwwMTQ0NB8nOT04MjwuMzQy/9sAQwEJCQkMCwwYDQ0YMiEcITIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIy/8AAEQgAEgAOAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8AwPEHiPxPY36/ZtXuIreRVEUSN1IjQtgfVv1rrvhb4p1XUtZmtb+8uLgi1aT943GQyDp+NcDrerwwwa1DPKxuI3snslD8qypknH90Zbp3au7+HUX2jUxrEMlr9nWxFqyRjDGU+WzsexyQefX86zu9mXy9UzlprCzndZZbSCSRo0yzxgk/KO+K7DwZBDBE4hiSMfNwigf3fT6D8qKKp7Atz//Z/+EEsGh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiB4bWxuczpleGlmPSdodHRwOi8vbnMuYWRvYmUuY29tL2V4aWYvMS4wLyc+CiAgPGV4aWY6T3JpZW50YXRpb24+VG9wLWxlZnQ8L2V4aWY6T3JpZW50YXRpb24+CiAgPGV4aWY6WFJlc29sdXRpb24+NzI8L2V4aWY6WFJlc29sdXRpb24+CiAgPGV4aWY6WVJlc29sdXRpb24+NzI8L2V4aWY6WVJlc29sdXRpb24+CiAgPGV4aWY6UmVzb2x1dGlvblVuaXQ+SW5jaDwvZXhpZjpSZXNvbHV0aW9uVW5pdD4KICA8ZXhpZjpZQ2JDclBvc2l0aW9uaW5nPkNlbnRlcmVkPC9leGlmOllDYkNyUG9zaXRpb25pbmc+CiAgPGV4aWY6Q29tcHJlc3Npb24+SlBFRyBjb21wcmVzc2lvbjwvZXhpZjpDb21wcmVzc2lvbj4KICA8ZXhpZjpYUmVzb2x1dGlvbj43MjwvZXhpZjpYUmVzb2x1dGlvbj4KICA8ZXhpZjpZUmVzb2x1dGlvbj43MjwvZXhpZjpZUmVzb2x1dGlvbj4KICA8ZXhpZjpSZXNvbHV0aW9uVW5pdD5JbmNoPC9leGlmOlJlc29sdXRpb25Vbml0PgogIDxleGlmOkV4aWZWZXJz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)'
                }}
            />
        );
    }
}